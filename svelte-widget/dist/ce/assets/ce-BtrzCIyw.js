var Ur=Object.defineProperty;var Sr=(t,e,n)=>e in t?Ur(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var j=(t,e,n)=>Sr(t,typeof e!="symbol"?e+"":e,n);function Nt(){}function Pn(t){return t()}function dn(){return Object.create(null)}function ee(t){t.forEach(Pn)}function qn(t){return typeof t=="function"}function Ar(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Nr(t){return Object.keys(t).length===0}function A(t,e){t.appendChild(e)}function Er(t,e,n){const r=Fr(t);if(!r.getElementById(e)){const i=q("style");i.id=e,i.textContent=n,Yr(r,i)}}function Fr(t){if(!t)return document;const e=t.getRootNode?t.getRootNode():t.ownerDocument;return e&&e.host?e:t.ownerDocument}function Yr(t,e){return A(t.head||t,e),e.sheet}function Bn(t,e,n){t.insertBefore(e,n||null)}function en(t){t.parentNode&&t.parentNode.removeChild(t)}function q(t){return document.createElement(t)}function Rr(t){return document.createTextNode(t)}function et(){return Rr(" ")}function at(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function Z(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Lr(t){return Array.from(t.childNodes)}function U(t,e,n,r){n==null?t.style.removeProperty(e):t.style.setProperty(e,n,"")}function Hr(t,e,{bubbles:n=!1,cancelable:r=!1}={}){return new CustomEvent(t,{detail:e,bubbles:n,cancelable:r})}function Or(t){const e={};return t.childNodes.forEach(n=>{e[n.slot||"default"]=!0}),e}let Jt;function Zt(t){Jt=t}function Xn(){if(!Jt)throw new Error("Function called outside component initialization");return Jt}function Ir(t){Xn().$$.on_mount.push(t)}function Wr(){const t=Xn();return(e,n,{cancelable:r=!1}={})=>{const i=t.$$.callbacks[e];if(i){const s=Hr(e,n,{cancelable:r});return i.slice().forEach(o=>{o.call(t,s)}),!s.defaultPrevented}return!0}}const At=[],ge=[];let Et=[];const gn=[],Pr=Promise.resolve();let ze=!1;function qr(){ze||(ze=!0,Pr.then(me))}function Ve(t){Et.push(t)}const Oe=new Set;let Ut=0;function me(){if(Ut!==0)return;const t=Jt;do{try{for(;Ut<At.length;){const e=At[Ut];Ut++,Zt(e),Br(e.$$)}}catch(e){throw At.length=0,Ut=0,e}for(Zt(null),At.length=0,Ut=0;ge.length;)ge.pop()();for(let e=0;e<Et.length;e+=1){const n=Et[e];Oe.has(n)||(Oe.add(n),n())}Et.length=0}while(At.length);for(;gn.length;)gn.pop()();ze=!1,Oe.clear(),Zt(t)}function Br(t){if(t.fragment!==null){t.update(),ee(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(Ve)}}function Xr(t){const e=[],n=[];Et.forEach(r=>t.indexOf(r)===-1?e.push(r):n.push(r)),n.forEach(r=>r()),Et=e}const zr=new Set;function Vr(t,e){t&&t.i&&(zr.delete(t),t.i(e))}function Zr(t,e,n){const{fragment:r,after_update:i}=t.$$;r&&r.m(e,n),Ve(()=>{const s=t.$$.on_mount.map(Pn).filter(qn);t.$$.on_destroy?t.$$.on_destroy.push(...s):ee(s),t.$$.on_mount=[]}),i.forEach(Ve)}function Jr(t,e){const n=t.$$;n.fragment!==null&&(Xr(n.after_update),ee(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Qr(t,e){t.$$.dirty[0]===-1&&(At.push(t),qr(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function Gr(t,e,n,r,i,s,o=null,a=[-1]){const u=Jt;Zt(t);const l=t.$$={fragment:null,ctx:[],props:s,update:Nt,not_equal:i,bound:dn(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(u?u.$$.context:[])),callbacks:dn(),dirty:a,skip_bound:!1,root:e.target||u.$$.root};o&&o(l.root);let c=!1;if(l.ctx=n?n(t,e.props||{},(d,g,...m)=>{const v=m.length?m[0]:g;return l.ctx&&i(l.ctx[d],l.ctx[d]=v)&&(!l.skip_bound&&l.bound[d]&&l.bound[d](v),c&&Qr(t,d)),g}):[],l.update(),c=!0,ee(l.before_update),l.fragment=r?r(l.ctx):!1,e.target){if(e.hydrate){const d=Lr(e.target);l.fragment&&l.fragment.l(d),d.forEach(en)}else l.fragment&&l.fragment.c();e.intro&&Vr(t.$$.fragment),Zr(t,e.target,e.anchor),me()}Zt(u)}let zn;typeof HTMLElement=="function"&&(zn=class extends HTMLElement{constructor(e,n,r){super();j(this,"$$ctor");j(this,"$$s");j(this,"$$c");j(this,"$$cn",!1);j(this,"$$d",{});j(this,"$$r",!1);j(this,"$$p_d",{});j(this,"$$l",{});j(this,"$$l_u",new Map);this.$$ctor=e,this.$$s=n,r&&this.attachShadow({mode:"open"})}addEventListener(e,n,r){if(this.$$l[e]=this.$$l[e]||[],this.$$l[e].push(n),this.$$c){const i=this.$$c.$on(e,n);this.$$l_u.set(n,i)}super.addEventListener(e,n,r)}removeEventListener(e,n,r){if(super.removeEventListener(e,n,r),this.$$c){const i=this.$$l_u.get(n);i&&(i(),this.$$l_u.delete(n))}if(this.$$l[e]){const i=this.$$l[e].indexOf(n);i>=0&&this.$$l[e].splice(i,1)}}async connectedCallback(){if(this.$$cn=!0,!this.$$c){let n=function(o){return()=>{let a;return{c:function(){a=q("slot"),o!=="default"&&Z(a,"name",o)},m:function(c,d){Bn(c,a,d)},d:function(c){c&&en(a)}}}};var e=n;if(await Promise.resolve(),!this.$$cn||this.$$c)return;const r={},i=Or(this);for(const o of this.$$s)o in i&&(r[o]=[n(o)]);for(const o of this.attributes){const a=this.$$g_p(o.name);a in this.$$d||(this.$$d[a]=le(a,o.value,this.$$p_d,"toProp"))}for(const o in this.$$p_d)!(o in this.$$d)&&this[o]!==void 0&&(this.$$d[o]=this[o],delete this[o]);this.$$c=new this.$$ctor({target:this.shadowRoot||this,props:{...this.$$d,$$slots:r,$$scope:{ctx:[]}}});const s=()=>{this.$$r=!0;for(const o in this.$$p_d)if(this.$$d[o]=this.$$c.$$.ctx[this.$$c.$$.props[o]],this.$$p_d[o].reflect){const a=le(o,this.$$d[o],this.$$p_d,"toAttribute");a==null?this.removeAttribute(this.$$p_d[o].attribute||o):this.setAttribute(this.$$p_d[o].attribute||o,a)}this.$$r=!1};this.$$c.$$.after_update.push(s),s();for(const o in this.$$l)for(const a of this.$$l[o]){const u=this.$$c.$on(o,a);this.$$l_u.set(a,u)}this.$$l={}}}attributeChangedCallback(e,n,r){var i;this.$$r||(e=this.$$g_p(e),this.$$d[e]=le(e,r,this.$$p_d,"toProp"),(i=this.$$c)==null||i.$set({[e]:this.$$d[e]}))}disconnectedCallback(){this.$$cn=!1,Promise.resolve().then(()=>{!this.$$cn&&this.$$c&&(this.$$c.$destroy(),this.$$c=void 0)})}$$g_p(e){return Object.keys(this.$$p_d).find(n=>this.$$p_d[n].attribute===e||!this.$$p_d[n].attribute&&n.toLowerCase()===e)||e}});function le(t,e,n,r){var s;const i=(s=n[t])==null?void 0:s.type;if(e=i==="Boolean"&&typeof e!="boolean"?e!=null:e,!r||!n[t])return e;if(r==="toAttribute")switch(i){case"Object":case"Array":return e==null?null:JSON.stringify(e);case"Boolean":return e?"":null;case"Number":return e??null;default:return e}else switch(i){case"Object":case"Array":return e&&JSON.parse(e);case"Boolean":return e;case"Number":return e!=null?+e:e;default:return e}}function Kr(t,e,n,r,i,s){let o=class extends zn{constructor(){super(t,n,i),this.$$p_d=e}static get observedAttributes(){return Object.keys(e).map(a=>(e[a].attribute||a).toLowerCase())}};return Object.keys(e).forEach(a=>{Object.defineProperty(o.prototype,a,{get(){return this.$$c&&a in this.$$c?this.$$c[a]:this.$$d[a]},set(u){var l;u=le(a,u,e),this.$$d[a]=u,(l=this.$$c)==null||l.$set({[a]:u})}})}),r.forEach(a=>{Object.defineProperty(o.prototype,a,{get(){var u;return(u=this.$$c)==null?void 0:u[a]}})}),t.element=o,o}class jr{constructor(){j(this,"$$");j(this,"$$set")}$destroy(){Jr(this,1),this.$destroy=Nt}$on(e,n){if(!qn(n))return Nt;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const i=r.indexOf(n);i!==-1&&r.splice(i,1)}}$set(e){this.$$set&&!Nr(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}const ti="4";typeof window<"u"&&(window.__svelte||(window.__svelte={v:new Set})).v.add(ti);function mn(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}var ei={value:()=>{}};function Vn(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ce(n)}function ce(t){this._=t}function ni(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ce.prototype=Vn.prototype={constructor:ce,on:function(t,e){var n=this._,r=ni(t+"",n),i,s=-1,o=r.length;if(arguments.length<2){for(;++s<o;)if((i=(t=r[s]).type)&&(i=ri(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++s<o;)if(i=(t=r[s]).type)n[i]=pn(n[i],t.name,e);else if(e==null)for(i in n)n[i]=pn(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new ce(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,s;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(s=this._[t],r=0,i=s.length;r<i;++r)s[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,s=r.length;i<s;++i)r[i].value.apply(e,n)}};function ri(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function pn(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=ei,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Ze="http://www.w3.org/1999/xhtml";const yn={svg:"http://www.w3.org/2000/svg",xhtml:Ze,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Ce(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),yn.hasOwnProperty(e)?{space:yn[e],local:t}:t}function ii(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Ze&&e.documentElement.namespaceURI===Ze?e.createElement(t):e.createElementNS(n,t)}}function oi(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zn(t){var e=Ce(t);return(e.local?oi:ii)(e)}function si(){}function nn(t){return t==null?si:function(){return this.querySelector(t)}}function ai(t){typeof t!="function"&&(t=nn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=new Array(o),u,l,c=0;c<o;++c)(u=s[c])&&(l=t.call(u,u.__data__,c,s))&&("__data__"in u&&(l.__data__=u.__data__),a[c]=l);return new rt(r,this._parents)}function ui(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function li(){return[]}function Jn(t){return t==null?li:function(){return this.querySelectorAll(t)}}function ci(t){return function(){return ui(t.apply(this,arguments))}}function fi(t){typeof t=="function"?t=ci(t):t=Jn(t);for(var e=this._groups,n=e.length,r=[],i=[],s=0;s<n;++s)for(var o=e[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&(r.push(t.call(u,u.__data__,l,o)),i.push(u));return new rt(r,i)}function Qn(t){return function(){return this.matches(t)}}function Gn(t){return function(e){return e.matches(t)}}var hi=Array.prototype.find;function di(t){return function(){return hi.call(this.children,t)}}function gi(){return this.firstElementChild}function mi(t){return this.select(t==null?gi:di(typeof t=="function"?t:Gn(t)))}var pi=Array.prototype.filter;function yi(){return Array.from(this.children)}function _i(t){return function(){return pi.call(this.children,t)}}function xi(t){return this.selectAll(t==null?yi:_i(typeof t=="function"?t:Gn(t)))}function wi(t){typeof t!="function"&&(t=Qn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&t.call(u,u.__data__,l,s)&&a.push(u);return new rt(r,this._parents)}function Kn(t){return new Array(t.length)}function vi(){return new rt(this._enter||this._groups.map(Kn),this._parents)}function pe(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}pe.prototype={constructor:pe,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function bi(t){return function(){return t}}function $i(t,e,n,r,i,s){for(var o=0,a,u=e.length,l=s.length;o<l;++o)(a=e[o])?(a.__data__=s[o],r[o]=a):n[o]=new pe(t,s[o]);for(;o<u;++o)(a=e[o])&&(i[o]=a)}function Ci(t,e,n,r,i,s,o){var a,u,l=new Map,c=e.length,d=s.length,g=new Array(c),m;for(a=0;a<c;++a)(u=e[a])&&(g[a]=m=o.call(u,u.__data__,a,e)+"",l.has(m)?i[a]=u:l.set(m,u));for(a=0;a<d;++a)m=o.call(t,s[a],a,s)+"",(u=l.get(m))?(r[a]=u,u.__data__=s[a],l.delete(m)):n[a]=new pe(t,s[a]);for(a=0;a<c;++a)(u=e[a])&&l.get(g[a])===u&&(i[a]=u)}function Ti(t){return t.__data__}function Mi(t,e){if(!arguments.length)return Array.from(this,Ti);var n=e?Ci:$i,r=this._parents,i=this._groups;typeof t!="function"&&(t=bi(t));for(var s=i.length,o=new Array(s),a=new Array(s),u=new Array(s),l=0;l<s;++l){var c=r[l],d=i[l],g=d.length,m=Di(t.call(c,c&&c.__data__,l,r)),v=m.length,x=a[l]=new Array(v),C=o[l]=new Array(v),E=u[l]=new Array(g);n(c,d,x,C,E,m,e);for(var V=0,B=0,O,G;V<v;++V)if(O=x[V]){for(V>=B&&(B=V+1);!(G=C[B])&&++B<v;);O._next=G||null}}return o=new rt(o,r),o._enter=a,o._exit=u,o}function Di(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function ki(){return new rt(this._exit||this._groups.map(Kn),this._parents)}function Ui(t,e,n){var r=this.enter(),i=this,s=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?s.remove():n(s),r&&i?r.merge(i).order():i}function Si(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,s=r.length,o=Math.min(i,s),a=new Array(i),u=0;u<o;++u)for(var l=n[u],c=r[u],d=l.length,g=a[u]=new Array(d),m,v=0;v<d;++v)(m=l[v]||c[v])&&(g[v]=m);for(;u<i;++u)a[u]=n[u];return new rt(a,this._parents)}function Ai(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,s=r[i],o;--i>=0;)(o=r[i])&&(s&&o.compareDocumentPosition(s)^4&&s.parentNode.insertBefore(o,s),s=o);return this}function Ni(t){t||(t=Ei);function e(d,g){return d&&g?t(d.__data__,g.__data__):!d-!g}for(var n=this._groups,r=n.length,i=new Array(r),s=0;s<r;++s){for(var o=n[s],a=o.length,u=i[s]=new Array(a),l,c=0;c<a;++c)(l=o[c])&&(u[c]=l);u.sort(e)}return new rt(i,this._parents).order()}function Ei(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Fi(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function Yi(){return Array.from(this)}function Ri(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length;i<s;++i){var o=r[i];if(o)return o}return null}function Li(){let t=0;for(const e of this)++t;return t}function Hi(){return!this.node()}function Oi(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],s=0,o=i.length,a;s<o;++s)(a=i[s])&&t.call(a,a.__data__,s,i);return this}function Ii(t){return function(){this.removeAttribute(t)}}function Wi(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Pi(t,e){return function(){this.setAttribute(t,e)}}function qi(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Bi(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Xi(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function zi(t,e){var n=Ce(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Wi:Ii:typeof e=="function"?n.local?Xi:Bi:n.local?qi:Pi)(n,e))}function jn(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Vi(t){return function(){this.style.removeProperty(t)}}function Zi(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Ji(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function Qi(t,e,n){return arguments.length>1?this.each((e==null?Vi:typeof e=="function"?Ji:Zi)(t,e,n??"")):Yt(this.node(),t)}function Yt(t,e){return t.style.getPropertyValue(e)||jn(t).getComputedStyle(t,null).getPropertyValue(e)}function Gi(t){return function(){delete this[t]}}function Ki(t,e){return function(){this[t]=e}}function ji(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function to(t,e){return arguments.length>1?this.each((e==null?Gi:typeof e=="function"?ji:Ki)(t,e)):this.node()[t]}function tr(t){return t.trim().split(/^|\s+/)}function rn(t){return t.classList||new er(t)}function er(t){this._node=t,this._names=tr(t.getAttribute("class")||"")}er.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function nr(t,e){for(var n=rn(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function rr(t,e){for(var n=rn(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function eo(t){return function(){nr(this,t)}}function no(t){return function(){rr(this,t)}}function ro(t,e){return function(){(e.apply(this,arguments)?nr:rr)(this,t)}}function io(t,e){var n=tr(t+"");if(arguments.length<2){for(var r=rn(this.node()),i=-1,s=n.length;++i<s;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?ro:e?eo:no)(n,e))}function oo(){this.textContent=""}function so(t){return function(){this.textContent=t}}function ao(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function uo(t){return arguments.length?this.each(t==null?oo:(typeof t=="function"?ao:so)(t)):this.node().textContent}function lo(){this.innerHTML=""}function co(t){return function(){this.innerHTML=t}}function fo(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function ho(t){return arguments.length?this.each(t==null?lo:(typeof t=="function"?fo:co)(t)):this.node().innerHTML}function go(){this.nextSibling&&this.parentNode.appendChild(this)}function mo(){return this.each(go)}function po(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function yo(){return this.each(po)}function _o(t){var e=typeof t=="function"?t:Zn(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function xo(){return null}function wo(t,e){var n=typeof t=="function"?t:Zn(t),r=e==null?xo:typeof e=="function"?e:nn(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function vo(){var t=this.parentNode;t&&t.removeChild(this)}function bo(){return this.each(vo)}function $o(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function Co(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function To(t){return this.select(t?Co:$o)}function Mo(t){return arguments.length?this.property("__data__",t):this.node().__data__}function Do(t){return function(e){t.call(this,e,this.__data__)}}function ko(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function Uo(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,s;n<i;++n)s=e[n],(!t.type||s.type===t.type)&&s.name===t.name?this.removeEventListener(s.type,s.listener,s.options):e[++r]=s;++r?e.length=r:delete this.__on}}}function So(t,e,n){return function(){var r=this.__on,i,s=Do(e);if(r){for(var o=0,a=r.length;o<a;++o)if((i=r[o]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=s,i.options=n),i.value=e;return}}this.addEventListener(t.type,s,n),i={type:t.type,name:t.name,value:e,listener:s,options:n},r?r.push(i):this.__on=[i]}}function Ao(t,e,n){var r=ko(t+""),i,s=r.length,o;if(arguments.length<2){var a=this.node().__on;if(a){for(var u=0,l=a.length,c;u<l;++u)for(i=0,c=a[u];i<s;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(a=e?So:Uo,i=0;i<s;++i)this.each(a(r[i],e,n));return this}function ir(t,e,n){var r=jn(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function No(t,e){return function(){return ir(this,t,e)}}function Eo(t,e){return function(){return ir(this,t,e.apply(this,arguments))}}function Fo(t,e){return this.each((typeof e=="function"?Eo:No)(t,e))}function*Yo(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,s=r.length,o;i<s;++i)(o=r[i])&&(yield o)}var Ro=[null];function rt(t,e){this._groups=t,this._parents=e}function ne(){return new rt([[document.documentElement]],Ro)}function Lo(){return this}rt.prototype=ne.prototype={constructor:rt,select:ai,selectAll:fi,selectChild:mi,selectChildren:xi,filter:wi,data:Mi,enter:vi,exit:ki,join:Ui,merge:Si,selection:Lo,order:Ai,sort:Ni,call:Fi,nodes:Yi,node:Ri,size:Li,empty:Hi,each:Oi,attr:zi,style:Qi,property:to,classed:io,text:uo,html:ho,raise:mo,lower:yo,append:_o,insert:wo,remove:bo,clone:To,datum:Mo,on:Ao,dispatch:Fo,[Symbol.iterator]:Yo};function on(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function or(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function re(){}var Qt=.7,ye=1/Qt,Ft="\\s*([+-]?\\d+)\\s*",Gt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ut="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ho=/^#([0-9a-f]{3,8})$/,Oo=new RegExp(`^rgb\\(${Ft},${Ft},${Ft}\\)$`),Io=new RegExp(`^rgb\\(${ut},${ut},${ut}\\)$`),Wo=new RegExp(`^rgba\\(${Ft},${Ft},${Ft},${Gt}\\)$`),Po=new RegExp(`^rgba\\(${ut},${ut},${ut},${Gt}\\)$`),qo=new RegExp(`^hsl\\(${Gt},${ut},${ut}\\)$`),Bo=new RegExp(`^hsla\\(${Gt},${ut},${ut},${Gt}\\)$`),_n={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};on(re,Kt,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:xn,formatHex:xn,formatHex8:Xo,formatHsl:zo,formatRgb:wn,toString:wn});function xn(){return this.rgb().formatHex()}function Xo(){return this.rgb().formatHex8()}function zo(){return sr(this).formatHsl()}function wn(){return this.rgb().formatRgb()}function Kt(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=Ho.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?vn(e):n===3?new K(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?se(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?se(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Oo.exec(t))?new K(e[1],e[2],e[3],1):(e=Io.exec(t))?new K(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Wo.exec(t))?se(e[1],e[2],e[3],e[4]):(e=Po.exec(t))?se(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=qo.exec(t))?Cn(e[1],e[2]/100,e[3]/100,1):(e=Bo.exec(t))?Cn(e[1],e[2]/100,e[3]/100,e[4]):_n.hasOwnProperty(t)?vn(_n[t]):t==="transparent"?new K(NaN,NaN,NaN,0):null}function vn(t){return new K(t>>16&255,t>>8&255,t&255,1)}function se(t,e,n,r){return r<=0&&(t=e=n=NaN),new K(t,e,n,r)}function Vo(t){return t instanceof re||(t=Kt(t)),t?(t=t.rgb(),new K(t.r,t.g,t.b,t.opacity)):new K}function Je(t,e,n,r){return arguments.length===1?Vo(t):new K(t,e,n,r??1)}function K(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}on(K,Je,or(re,{brighter(t){return t=t==null?ye:Math.pow(ye,t),new K(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Qt:Math.pow(Qt,t),new K(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new K($t(this.r),$t(this.g),$t(this.b),_e(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:bn,formatHex:bn,formatHex8:Zo,formatRgb:$n,toString:$n}));function bn(){return`#${bt(this.r)}${bt(this.g)}${bt(this.b)}`}function Zo(){return`#${bt(this.r)}${bt(this.g)}${bt(this.b)}${bt((isNaN(this.opacity)?1:this.opacity)*255)}`}function $n(){const t=_e(this.opacity);return`${t===1?"rgb(":"rgba("}${$t(this.r)}, ${$t(this.g)}, ${$t(this.b)}${t===1?")":`, ${t})`}`}function _e(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function $t(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function bt(t){return t=$t(t),(t<16?"0":"")+t.toString(16)}function Cn(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new nt(t,e,n,r)}function sr(t){if(t instanceof nt)return new nt(t.h,t.s,t.l,t.opacity);if(t instanceof re||(t=Kt(t)),!t)return new nt;if(t instanceof nt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),o=NaN,a=s-i,u=(s+i)/2;return a?(e===s?o=(n-r)/a+(n<r)*6:n===s?o=(r-e)/a+2:o=(e-n)/a+4,a/=u<.5?s+i:2-s-i,o*=60):a=u>0&&u<1?0:o,new nt(o,a,u,t.opacity)}function Jo(t,e,n,r){return arguments.length===1?sr(t):new nt(t,e,n,r??1)}function nt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}on(nt,Jo,or(re,{brighter(t){return t=t==null?ye:Math.pow(ye,t),new nt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Qt:Math.pow(Qt,t),new nt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new K(Ie(t>=240?t-240:t+120,i,r),Ie(t,i,r),Ie(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new nt(Tn(this.h),ae(this.s),ae(this.l),_e(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=_e(this.opacity);return`${t===1?"hsl(":"hsla("}${Tn(this.h)}, ${ae(this.s)*100}%, ${ae(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Tn(t){return t=(t||0)%360,t<0?t+360:t}function ae(t){return Math.max(0,Math.min(1,t||0))}function Ie(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ar=t=>()=>t;function Qo(t,e){return function(n){return t+n*e}}function Go(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Ko(t){return(t=+t)==1?ur:function(e,n){return n-e?Go(e,n,t):ar(isNaN(e)?n:e)}}function ur(t,e){var n=e-t;return n?Qo(t,n):ar(isNaN(t)?e:t)}const Mn=function t(e){var n=Ko(e);function r(i,s){var o=n((i=Je(i)).r,(s=Je(s)).r),a=n(i.g,s.g),u=n(i.b,s.b),l=ur(i.opacity,s.opacity);return function(c){return i.r=o(c),i.g=a(c),i.b=u(c),i.opacity=l(c),i+""}}return r.gamma=t,r}(1);function xt(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}var Qe=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,We=new RegExp(Qe.source,"g");function jo(t){return function(){return t}}function ts(t){return function(e){return t(e)+""}}function es(t,e){var n=Qe.lastIndex=We.lastIndex=0,r,i,s,o=-1,a=[],u=[];for(t=t+"",e=e+"";(r=Qe.exec(t))&&(i=We.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),a[o]?a[o]+=s:a[++o]=s),(r=r[0])===(i=i[0])?a[o]?a[o]+=i:a[++o]=i:(a[++o]=null,u.push({i:o,x:xt(r,i)})),n=We.lastIndex;return n<e.length&&(s=e.slice(n),a[o]?a[o]+=s:a[++o]=s),a.length<2?u[0]?ts(u[0].x):jo(e):(e=u.length,function(l){for(var c=0,d;c<e;++c)a[(d=u[c]).i]=d.x(l);return a.join("")})}var Dn=180/Math.PI,Ge={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function lr(t,e,n,r,i,s){var o,a,u;return(o=Math.sqrt(t*t+e*e))&&(t/=o,e/=o),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(a=Math.sqrt(n*n+r*r))&&(n/=a,r/=a,u/=a),t*r<e*n&&(t=-t,e=-e,u=-u,o=-o),{translateX:i,translateY:s,rotate:Math.atan2(e,t)*Dn,skewX:Math.atan(u)*Dn,scaleX:o,scaleY:a}}var ue;function ns(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Ge:lr(e.a,e.b,e.c,e.d,e.e,e.f)}function rs(t){return t==null||(ue||(ue=document.createElementNS("http://www.w3.org/2000/svg","g")),ue.setAttribute("transform",t),!(t=ue.transform.baseVal.consolidate()))?Ge:(t=t.matrix,lr(t.a,t.b,t.c,t.d,t.e,t.f))}function cr(t,e,n,r){function i(l){return l.length?l.pop()+" ":""}function s(l,c,d,g,m,v){if(l!==d||c!==g){var x=m.push("translate(",null,e,null,n);v.push({i:x-4,x:xt(l,d)},{i:x-2,x:xt(c,g)})}else(d||g)&&m.push("translate("+d+e+g+n)}function o(l,c,d,g){l!==c?(l-c>180?c+=360:c-l>180&&(l+=360),g.push({i:d.push(i(d)+"rotate(",null,r)-2,x:xt(l,c)})):c&&d.push(i(d)+"rotate("+c+r)}function a(l,c,d,g){l!==c?g.push({i:d.push(i(d)+"skewX(",null,r)-2,x:xt(l,c)}):c&&d.push(i(d)+"skewX("+c+r)}function u(l,c,d,g,m,v){if(l!==d||c!==g){var x=m.push(i(m)+"scale(",null,",",null,")");v.push({i:x-4,x:xt(l,d)},{i:x-2,x:xt(c,g)})}else(d!==1||g!==1)&&m.push(i(m)+"scale("+d+","+g+")")}return function(l,c){var d=[],g=[];return l=t(l),c=t(c),s(l.translateX,l.translateY,c.translateX,c.translateY,d,g),o(l.rotate,c.rotate,d,g),a(l.skewX,c.skewX,d,g),u(l.scaleX,l.scaleY,c.scaleX,c.scaleY,d,g),l=c=null,function(m){for(var v=-1,x=g.length,C;++v<x;)d[(C=g[v]).i]=C.x(m);return d.join("")}}}var is=cr(ns,"px, ","px)","deg)"),os=cr(rs,", ",")",")"),Rt=0,Xt=0,Wt=0,fr=1e3,xe,zt,we=0,Ct=0,Te=0,jt=typeof performance=="object"&&performance.now?performance:Date,hr=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function sn(){return Ct||(hr(ss),Ct=jt.now()+Te)}function ss(){Ct=0}function ve(){this._call=this._time=this._next=null}ve.prototype=dr.prototype={constructor:ve,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?sn():+n)+(e==null?0:+e),!this._next&&zt!==this&&(zt?zt._next=this:xe=this,zt=this),this._call=t,this._time=n,Ke()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ke())}};function dr(t,e,n){var r=new ve;return r.restart(t,e,n),r}function as(){sn(),++Rt;for(var t=xe,e;t;)(e=Ct-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Rt}function kn(){Ct=(we=jt.now())+Te,Rt=Xt=0;try{as()}finally{Rt=0,ls(),Ct=0}}function us(){var t=jt.now(),e=t-we;e>fr&&(Te-=e,we=t)}function ls(){for(var t,e=xe,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:xe=n);zt=t,Ke(r)}function Ke(t){if(!Rt){Xt&&(Xt=clearTimeout(Xt));var e=t-Ct;e>24?(t<1/0&&(Xt=setTimeout(kn,t-jt.now()-Te)),Wt&&(Wt=clearInterval(Wt))):(Wt||(we=jt.now(),Wt=setInterval(us,fr)),Rt=1,hr(kn))}}function Un(t,e,n){var r=new ve;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var cs=Vn("start","end","cancel","interrupt"),fs=[],gr=0,Sn=1,je=2,fe=3,An=4,tn=5,he=6;function Me(t,e,n,r,i,s){var o=t.__transition;if(!o)t.__transition={};else if(n in o)return;hs(t,n,{name:e,index:r,group:i,on:cs,tween:fs,time:s.time,delay:s.delay,duration:s.duration,ease:s.ease,timer:null,state:gr})}function an(t,e){var n=it(t,e);if(n.state>gr)throw new Error("too late; already scheduled");return n}function lt(t,e){var n=it(t,e);if(n.state>fe)throw new Error("too late; already running");return n}function it(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function hs(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=dr(s,0,n.time);function s(l){n.state=Sn,n.timer.restart(o,n.delay,n.time),n.delay<=l&&o(l-n.delay)}function o(l){var c,d,g,m;if(n.state!==Sn)return u();for(c in r)if(m=r[c],m.name===n.name){if(m.state===fe)return Un(o);m.state===An?(m.state=he,m.timer.stop(),m.on.call("interrupt",t,t.__data__,m.index,m.group),delete r[c]):+c<e&&(m.state=he,m.timer.stop(),m.on.call("cancel",t,t.__data__,m.index,m.group),delete r[c])}if(Un(function(){n.state===fe&&(n.state=An,n.timer.restart(a,n.delay,n.time),a(l))}),n.state=je,n.on.call("start",t,t.__data__,n.index,n.group),n.state===je){for(n.state=fe,i=new Array(g=n.tween.length),c=0,d=-1;c<g;++c)(m=n.tween[c].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=m);i.length=d+1}}function a(l){for(var c=l<n.duration?n.ease.call(null,l/n.duration):(n.timer.restart(u),n.state=tn,1),d=-1,g=i.length;++d<g;)i[d].call(t,c);n.state===tn&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=he,n.timer.stop(),delete r[e];for(var l in r)return;delete t.__transition}}function ds(t,e){var n=t.__transition,r,i,s=!0,o;if(n){e=e==null?null:e+"";for(o in n){if((r=n[o]).name!==e){s=!1;continue}i=r.state>je&&r.state<tn,r.state=he,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[o]}s&&delete t.__transition}}function gs(t){return this.each(function(){ds(this,t)})}function ms(t,e){var n,r;return function(){var i=lt(this,t),s=i.tween;if(s!==n){r=n=s;for(var o=0,a=r.length;o<a;++o)if(r[o].name===e){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function ps(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var s=lt(this,t),o=s.tween;if(o!==r){i=(r=o).slice();for(var a={name:e,value:n},u=0,l=i.length;u<l;++u)if(i[u].name===e){i[u]=a;break}u===l&&i.push(a)}s.tween=i}}function ys(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=it(this.node(),n).tween,i=0,s=r.length,o;i<s;++i)if((o=r[i]).name===t)return o.value;return null}return this.each((e==null?ms:ps)(n,t,e))}function un(t,e,n){var r=t._id;return t.each(function(){var i=lt(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return it(i,r).value[e]}}function mr(t,e){var n;return(typeof e=="number"?xt:e instanceof Kt?Mn:(n=Kt(e))?(e=n,Mn):es)(t,e)}function _s(t){return function(){this.removeAttribute(t)}}function xs(t){return function(){this.removeAttributeNS(t.space,t.local)}}function ws(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttribute(t);return o===i?null:o===r?s:s=e(r=o,n)}}function vs(t,e,n){var r,i=n+"",s;return function(){var o=this.getAttributeNS(t.space,t.local);return o===i?null:o===r?s:s=e(r=o,n)}}function bs(t,e,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttribute(t):(o=this.getAttribute(t),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,a)))}}function $s(t,e,n){var r,i,s;return function(){var o,a=n(this),u;return a==null?void this.removeAttributeNS(t.space,t.local):(o=this.getAttributeNS(t.space,t.local),u=a+"",o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,a)))}}function Cs(t,e){var n=Ce(t),r=n==="transform"?os:mr;return this.attrTween(t,typeof e=="function"?(n.local?$s:bs)(n,r,un(this,"attr."+t,e)):e==null?(n.local?xs:_s)(n):(n.local?vs:ws)(n,r,e))}function Ts(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function Ms(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Ds(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Ms(t,s)),n}return i._value=e,i}function ks(t,e){var n,r;function i(){var s=e.apply(this,arguments);return s!==r&&(n=(r=s)&&Ts(t,s)),n}return i._value=e,i}function Us(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Ce(t);return this.tween(n,(r.local?Ds:ks)(r,e))}function Ss(t,e){return function(){an(this,t).delay=+e.apply(this,arguments)}}function As(t,e){return e=+e,function(){an(this,t).delay=e}}function Ns(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Ss:As)(e,t)):it(this.node(),e).delay}function Es(t,e){return function(){lt(this,t).duration=+e.apply(this,arguments)}}function Fs(t,e){return e=+e,function(){lt(this,t).duration=e}}function Ys(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Es:Fs)(e,t)):it(this.node(),e).duration}function Rs(t,e){if(typeof e!="function")throw new Error;return function(){lt(this,t).ease=e}}function Ls(t){var e=this._id;return arguments.length?this.each(Rs(e,t)):it(this.node(),e).ease}function Hs(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;lt(this,t).ease=n}}function Os(t){if(typeof t!="function")throw new Error;return this.each(Hs(this._id,t))}function Is(t){typeof t!="function"&&(t=Qn(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var s=e[i],o=s.length,a=r[i]=[],u,l=0;l<o;++l)(u=s[l])&&t.call(u,u.__data__,l,s)&&a.push(u);return new yt(r,this._parents,this._name,this._id)}function Ws(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,s=Math.min(r,i),o=new Array(r),a=0;a<s;++a)for(var u=e[a],l=n[a],c=u.length,d=o[a]=new Array(c),g,m=0;m<c;++m)(g=u[m]||l[m])&&(d[m]=g);for(;a<r;++a)o[a]=e[a];return new yt(o,this._parents,this._name,this._id)}function Ps(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function qs(t,e,n){var r,i,s=Ps(e)?an:lt;return function(){var o=s(this,t),a=o.on;a!==r&&(i=(r=a).copy()).on(e,n),o.on=i}}function Bs(t,e){var n=this._id;return arguments.length<2?it(this.node(),n).on.on(t):this.each(qs(n,t,e))}function Xs(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function zs(){return this.on("end.remove",Xs(this._id))}function Vs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=nn(t));for(var r=this._groups,i=r.length,s=new Array(i),o=0;o<i;++o)for(var a=r[o],u=a.length,l=s[o]=new Array(u),c,d,g=0;g<u;++g)(c=a[g])&&(d=t.call(c,c.__data__,g,a))&&("__data__"in c&&(d.__data__=c.__data__),l[g]=d,Me(l[g],e,n,g,l,it(c,n)));return new yt(s,this._parents,e,n)}function Zs(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Jn(t));for(var r=this._groups,i=r.length,s=[],o=[],a=0;a<i;++a)for(var u=r[a],l=u.length,c,d=0;d<l;++d)if(c=u[d]){for(var g=t.call(c,c.__data__,d,u),m,v=it(c,n),x=0,C=g.length;x<C;++x)(m=g[x])&&Me(m,e,n,x,g,v);s.push(g),o.push(c)}return new yt(s,o,e,n)}var Js=ne.prototype.constructor;function Qs(){return new Js(this._groups,this._parents)}function Gs(t,e){var n,r,i;return function(){var s=Yt(this,t),o=(this.style.removeProperty(t),Yt(this,t));return s===o?null:s===n&&o===r?i:i=e(n=s,r=o)}}function pr(t){return function(){this.style.removeProperty(t)}}function Ks(t,e,n){var r,i=n+"",s;return function(){var o=Yt(this,t);return o===i?null:o===r?s:s=e(r=o,n)}}function js(t,e,n){var r,i,s;return function(){var o=Yt(this,t),a=n(this),u=a+"";return a==null&&(u=a=(this.style.removeProperty(t),Yt(this,t))),o===u?null:o===r&&u===i?s:(i=u,s=e(r=o,a))}}function ta(t,e){var n,r,i,s="style."+e,o="end."+s,a;return function(){var u=lt(this,t),l=u.on,c=u.value[s]==null?a||(a=pr(e)):void 0;(l!==n||i!==c)&&(r=(n=l).copy()).on(o,i=c),u.on=r}}function ea(t,e,n){var r=(t+="")=="transform"?is:mr;return e==null?this.styleTween(t,Gs(t,r)).on("end.style."+t,pr(t)):typeof e=="function"?this.styleTween(t,js(t,r,un(this,"style."+t,e))).each(ta(this._id,t)):this.styleTween(t,Ks(t,r,e),n).on("end.style."+t,null)}function na(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ra(t,e,n){var r,i;function s(){var o=e.apply(this,arguments);return o!==i&&(r=(i=o)&&na(t,o,n)),r}return s._value=e,s}function ia(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ra(t,e,n??""))}function oa(t){return function(){this.textContent=t}}function sa(t){return function(){var e=t(this);this.textContent=e??""}}function aa(t){return this.tween("text",typeof t=="function"?sa(un(this,"text",t)):oa(t==null?"":t+""))}function ua(t){return function(e){this.textContent=t.call(this,e)}}function la(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&ua(i)),e}return r._value=t,r}function ca(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,la(t))}function fa(){for(var t=this._name,e=this._id,n=yr(),r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)if(u=o[l]){var c=it(u,e);Me(u,t,n,l,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new yt(r,this._parents,t,n)}function ha(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(s,o){var a={value:o},u={value:function(){--i===0&&s()}};n.each(function(){var l=lt(this,r),c=l.on;c!==t&&(e=(t=c).copy(),e._.cancel.push(a),e._.interrupt.push(a),e._.end.push(u)),l.on=e}),i===0&&s()})}var da=0;function yt(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function yr(){return++da}var mt=ne.prototype;yt.prototype={constructor:yt,select:Vs,selectAll:Zs,selectChild:mt.selectChild,selectChildren:mt.selectChildren,filter:Is,merge:Ws,selection:Qs,transition:fa,call:mt.call,nodes:mt.nodes,node:mt.node,size:mt.size,empty:mt.empty,each:mt.each,on:Bs,attr:Cs,attrTween:Us,style:ea,styleTween:ia,text:aa,textTween:ca,remove:zs,tween:ys,delay:Ns,duration:Ys,ease:Ls,easeVarying:Os,end:ha,[Symbol.iterator]:mt[Symbol.iterator]};function ga(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var ma={time:null,delay:0,duration:250,ease:ga};function pa(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function ya(t){var e,n;t instanceof yt?(e=t._id,t=t._name):(e=yr(),(n=ma).time=sn(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,s=0;s<i;++s)for(var o=r[s],a=o.length,u,l=0;l<a;++l)(u=o[l])&&Me(u,t,e,l,o,n||pa(u,e));return new yt(r,this._parents,t,e)}ne.prototype.interrupt=gs;ne.prototype.transition=ya;const Pe=new Date,qe=new Date;function ct(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const o=i(s),a=i.ceil(s);return s-o<a-s?o:a},i.offset=(s,o)=>(e(s=new Date(+s),o==null?1:Math.floor(o)),s),i.range=(s,o,a)=>{const u=[];if(s=i.ceil(s),a=a==null?1:Math.floor(a),!(s<o)||!(a>0))return u;let l;do u.push(l=new Date(+s)),e(s,a),t(s);while(l<s&&s<o);return u},i.filter=s=>ct(o=>{if(o>=o)for(;t(o),!s(o);)o.setTime(o-1)},(o,a)=>{if(o>=o)if(a<0)for(;++a<=0;)for(;e(o,-1),!s(o););else for(;--a>=0;)for(;e(o,1),!s(o););}),n&&(i.count=(s,o)=>(Pe.setTime(+s),qe.setTime(+o),t(Pe),t(qe),Math.floor(n(Pe,qe))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?o=>r(o)%s===0:o=>i.count(0,o)%s===0):i)),i}const _a=1e3,ln=_a*60,xa=ln*60,te=xa*24,_r=te*7,cn=ct(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*ln)/te,t=>t.getDate()-1);cn.range;const fn=ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/te,t=>t.getUTCDate()-1);fn.range;const wa=ct(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/te,t=>Math.floor(t/te));wa.range;function Dt(t){return ct(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*ln)/_r)}const xr=Dt(0),be=Dt(1),va=Dt(2),ba=Dt(3),Lt=Dt(4),$a=Dt(5),Ca=Dt(6);xr.range;be.range;va.range;ba.range;Lt.range;$a.range;Ca.range;function kt(t){return ct(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/_r)}const wr=kt(0),$e=kt(1),Ta=kt(2),Ma=kt(3),Ht=kt(4),Da=kt(5),ka=kt(6);wr.range;$e.range;Ta.range;Ma.range;Ht.range;Da.range;ka.range;const Tt=ct(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Tt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ct(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});Tt.range;const Mt=ct(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Mt.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ct(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});Mt.range;function Be(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function Xe(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Pt(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function Ua(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,o=t.shortDays,a=t.months,u=t.shortMonths,l=qt(i),c=Bt(i),d=qt(s),g=Bt(s),m=qt(o),v=Bt(o),x=qt(a),C=Bt(a),E=qt(u),V=Bt(u),B={a:De,A:ke,b:Ue,B:Se,c:null,d:Ln,e:Ln,f:Ka,g:uu,G:cu,H:Ja,I:Qa,j:Ga,L:vr,m:ja,M:tu,p:Ae,q:Ne,Q:In,s:Wn,S:eu,u:nu,U:ru,V:iu,w:ou,W:su,x:null,X:null,y:au,Y:lu,Z:fu,"%":On},O={a:Ee,A:Fe,b:Ye,B:Re,c:null,d:Hn,e:Hn,f:mu,g:Tu,G:Du,H:hu,I:du,j:gu,L:$r,m:pu,M:yu,p:Le,q:_,Q:In,s:Wn,S:_u,u:xu,U:wu,V:vu,w:bu,W:$u,x:null,X:null,y:Cu,Y:Mu,Z:ku,"%":On},G={a:ft,A:ht,b:Q,B:st,c:_t,d:Yn,e:Yn,f:Xa,g:Fn,G:En,H:Rn,I:Rn,j:Wa,L:Ba,m:Ia,M:Pa,p:ot,q:Oa,Q:Va,s:Za,S:qa,u:Fa,U:Ya,V:Ra,w:Ea,W:La,x:vt,X:Ot,y:Fn,Y:En,Z:Ha,"%":za};B.x=J(n,B),B.X=J(r,B),B.c=J(e,B),O.x=J(n,O),O.X=J(r,O),O.c=J(e,O);function J(h,y){return function(p){var f=[],T=-1,$=0,R=h.length,W,S,tt;for(p instanceof Date||(p=new Date(+p));++T<R;)h.charCodeAt(T)===37&&(f.push(h.slice($,T)),(S=Nn[W=h.charAt(++T)])!=null?W=h.charAt(++T):S=W==="e"?" ":"0",(tt=y[W])&&(W=tt(p,S)),f.push(W),$=T+1);return f.push(h.slice($,T)),f.join("")}}function wt(h,y){return function(p){var f=Pt(1900,void 0,1),T=w(f,h,p+="",0),$,R;if(T!=p.length)return null;if("Q"in f)return new Date(f.Q);if("s"in f)return new Date(f.s*1e3+("L"in f?f.L:0));if(y&&!("Z"in f)&&(f.Z=0),"p"in f&&(f.H=f.H%12+f.p*12),f.m===void 0&&(f.m="q"in f?f.q:0),"V"in f){if(f.V<1||f.V>53)return null;"w"in f||(f.w=1),"Z"in f?($=Xe(Pt(f.y,0,1)),R=$.getUTCDay(),$=R>4||R===0?$e.ceil($):$e($),$=fn.offset($,(f.V-1)*7),f.y=$.getUTCFullYear(),f.m=$.getUTCMonth(),f.d=$.getUTCDate()+(f.w+6)%7):($=Be(Pt(f.y,0,1)),R=$.getDay(),$=R>4||R===0?be.ceil($):be($),$=cn.offset($,(f.V-1)*7),f.y=$.getFullYear(),f.m=$.getMonth(),f.d=$.getDate()+(f.w+6)%7)}else("W"in f||"U"in f)&&("w"in f||(f.w="u"in f?f.u%7:"W"in f?1:0),R="Z"in f?Xe(Pt(f.y,0,1)).getUTCDay():Be(Pt(f.y,0,1)).getDay(),f.m=0,f.d="W"in f?(f.w+6)%7+f.W*7-(R+5)%7:f.w+f.U*7-(R+6)%7);return"Z"in f?(f.H+=f.Z/100|0,f.M+=f.Z%100,Xe(f)):Be(f)}}function w(h,y,p,f){for(var T=0,$=y.length,R=p.length,W,S;T<$;){if(f>=R)return-1;if(W=y.charCodeAt(T++),W===37){if(W=y.charAt(T++),S=G[W in Nn?y.charAt(T++):W],!S||(f=S(h,p,f))<0)return-1}else if(W!=p.charCodeAt(f++))return-1}return f}function ot(h,y,p){var f=l.exec(y.slice(p));return f?(h.p=c.get(f[0].toLowerCase()),p+f[0].length):-1}function ft(h,y,p){var f=m.exec(y.slice(p));return f?(h.w=v.get(f[0].toLowerCase()),p+f[0].length):-1}function ht(h,y,p){var f=d.exec(y.slice(p));return f?(h.w=g.get(f[0].toLowerCase()),p+f[0].length):-1}function Q(h,y,p){var f=E.exec(y.slice(p));return f?(h.m=V.get(f[0].toLowerCase()),p+f[0].length):-1}function st(h,y,p){var f=x.exec(y.slice(p));return f?(h.m=C.get(f[0].toLowerCase()),p+f[0].length):-1}function _t(h,y,p){return w(h,e,y,p)}function vt(h,y,p){return w(h,n,y,p)}function Ot(h,y,p){return w(h,r,y,p)}function De(h){return o[h.getDay()]}function ke(h){return s[h.getDay()]}function Ue(h){return u[h.getMonth()]}function Se(h){return a[h.getMonth()]}function Ae(h){return i[+(h.getHours()>=12)]}function Ne(h){return 1+~~(h.getMonth()/3)}function Ee(h){return o[h.getUTCDay()]}function Fe(h){return s[h.getUTCDay()]}function Ye(h){return u[h.getUTCMonth()]}function Re(h){return a[h.getUTCMonth()]}function Le(h){return i[+(h.getUTCHours()>=12)]}function _(h){return 1+~~(h.getUTCMonth()/3)}return{format:function(h){var y=J(h+="",B);return y.toString=function(){return h},y},parse:function(h){var y=wt(h+="",!1);return y.toString=function(){return h},y},utcFormat:function(h){var y=J(h+="",O);return y.toString=function(){return h},y},utcParse:function(h){var y=wt(h+="",!0);return y.toString=function(){return h},y}}}var Nn={"-":"",_:" ",0:"0"},z=/^\s*\d+/,Sa=/^%/,Aa=/[\\^$*+?|[\]().{}]/g;function M(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function Na(t){return t.replace(Aa,"\\$&")}function qt(t){return new RegExp("^(?:"+t.map(Na).join("|")+")","i")}function Bt(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function Ea(t,e,n){var r=z.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function Fa(t,e,n){var r=z.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function Ya(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function Ra(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function La(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function En(t,e,n){var r=z.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function Fn(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Ha(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Oa(t,e,n){var r=z.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function Ia(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function Yn(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function Wa(t,e,n){var r=z.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function Rn(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function Pa(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function qa(t,e,n){var r=z.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function Ba(t,e,n){var r=z.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function Xa(t,e,n){var r=z.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function za(t,e,n){var r=Sa.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function Va(t,e,n){var r=z.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function Za(t,e,n){var r=z.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function Ln(t,e){return M(t.getDate(),e,2)}function Ja(t,e){return M(t.getHours(),e,2)}function Qa(t,e){return M(t.getHours()%12||12,e,2)}function Ga(t,e){return M(1+cn.count(Tt(t),t),e,3)}function vr(t,e){return M(t.getMilliseconds(),e,3)}function Ka(t,e){return vr(t,e)+"000"}function ja(t,e){return M(t.getMonth()+1,e,2)}function tu(t,e){return M(t.getMinutes(),e,2)}function eu(t,e){return M(t.getSeconds(),e,2)}function nu(t){var e=t.getDay();return e===0?7:e}function ru(t,e){return M(xr.count(Tt(t)-1,t),e,2)}function br(t){var e=t.getDay();return e>=4||e===0?Lt(t):Lt.ceil(t)}function iu(t,e){return t=br(t),M(Lt.count(Tt(t),t)+(Tt(t).getDay()===4),e,2)}function ou(t){return t.getDay()}function su(t,e){return M(be.count(Tt(t)-1,t),e,2)}function au(t,e){return M(t.getFullYear()%100,e,2)}function uu(t,e){return t=br(t),M(t.getFullYear()%100,e,2)}function lu(t,e){return M(t.getFullYear()%1e4,e,4)}function cu(t,e){var n=t.getDay();return t=n>=4||n===0?Lt(t):Lt.ceil(t),M(t.getFullYear()%1e4,e,4)}function fu(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+M(e/60|0,"0",2)+M(e%60,"0",2)}function Hn(t,e){return M(t.getUTCDate(),e,2)}function hu(t,e){return M(t.getUTCHours(),e,2)}function du(t,e){return M(t.getUTCHours()%12||12,e,2)}function gu(t,e){return M(1+fn.count(Mt(t),t),e,3)}function $r(t,e){return M(t.getUTCMilliseconds(),e,3)}function mu(t,e){return $r(t,e)+"000"}function pu(t,e){return M(t.getUTCMonth()+1,e,2)}function yu(t,e){return M(t.getUTCMinutes(),e,2)}function _u(t,e){return M(t.getUTCSeconds(),e,2)}function xu(t){var e=t.getUTCDay();return e===0?7:e}function wu(t,e){return M(wr.count(Mt(t)-1,t),e,2)}function Cr(t){var e=t.getUTCDay();return e>=4||e===0?Ht(t):Ht.ceil(t)}function vu(t,e){return t=Cr(t),M(Ht.count(Mt(t),t)+(Mt(t).getUTCDay()===4),e,2)}function bu(t){return t.getUTCDay()}function $u(t,e){return M($e.count(Mt(t)-1,t),e,2)}function Cu(t,e){return M(t.getUTCFullYear()%100,e,2)}function Tu(t,e){return t=Cr(t),M(t.getUTCFullYear()%100,e,2)}function Mu(t,e){return M(t.getUTCFullYear()%1e4,e,4)}function Du(t,e){var n=t.getUTCDay();return t=n>=4||n===0?Ht(t):Ht.ceil(t),M(t.getUTCFullYear()%1e4,e,4)}function ku(){return"+0000"}function On(){return"%"}function In(t){return+t}function Wn(t){return Math.floor(+t/1e3)}var St,de;Uu({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Uu(t){return St=Ua(t),de=St.format,St.parse,St.utcFormat,St.utcParse,St}function Vt(t,e,n){this.k=t,this.x=e,this.y=n}Vt.prototype={constructor:Vt,scale:function(t){return t===1?this:new Vt(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Vt(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Vt.prototype;function Su(t){Er(t,"svelte-enkove",".qbtn.svelte-enkove,.navbtn.svelte-enkove{padding:4px 10px;border:1px solid #bbb;border-radius:6px;background:#f7f7f7;cursor:pointer}.qbtn.svelte-enkove:hover,.navbtn.svelte-enkove:hover{background:#eee}")}function Au(t){let e,n,r,i,s,o,a,u,l,c,d,g,m,v,x,C,E,V,B,O,G,J,wt,w,ot,ft,ht,Q,st,_t;return{c(){e=q("div"),n=q("div"),r=q("div"),r.textContent=`${t[2]()}`,i=et(),s=q("div"),o=q("div"),a=q("button"),a.textContent="|<",u=et(),l=q("button"),l.textContent="<",c=et(),d=q("button"),d.textContent=">",g=et(),m=q("button"),m.textContent=">|",v=et(),x=q("div"),C=q("button"),C.textContent="1 day",E=et(),V=q("button"),V.textContent="3 days",B=et(),O=q("button"),O.textContent="7 days",G=et(),J=q("button"),J.textContent="14 days",wt=et(),w=q("button"),w.textContent="30 days",ot=et(),ft=q("button"),ft.textContent="90 days",ht=et(),Q=q("canvas"),U(r,"text-align","left"),U(r,"color","#000"),U(r,"font-size","12px"),U(r,"font-weight","600"),U(r,"min-width","160px"),U(r,"flex","1 1 auto"),Z(a,"class","navbtn svelte-enkove"),Z(a,"title","Jump back by current span"),Z(l,"class","navbtn svelte-enkove"),Z(l,"title","Step back 1 day"),Z(d,"class","navbtn svelte-enkove"),Z(d,"title","Step forward 1 day"),Z(m,"class","navbtn svelte-enkove"),Z(m,"title","Jump forward by current span"),U(o,"display","flex"),U(o,"gap","8px"),U(o,"align-items","center"),U(o,"justify-content","flex-end"),U(o,"flex","0 0 auto"),Z(C,"class","qbtn svelte-enkove"),Z(V,"class","qbtn svelte-enkove"),Z(O,"class","qbtn svelte-enkove"),Z(J,"class","qbtn svelte-enkove"),Z(w,"class","qbtn svelte-enkove"),Z(ft,"class","qbtn svelte-enkove"),U(x,"display","flex"),U(x,"gap","8px"),U(x,"flex-wrap","wrap"),U(x,"justify-content","flex-end"),U(s,"display","flex"),U(s,"align-items","center"),U(s,"gap","20px"),U(s,"justify-content","flex-end"),U(s,"margin-left","auto"),Z(n,"id","controlBar"),U(n,"display","flex"),U(n,"align-items","center"),U(n,"gap","12px"),U(n,"flex-wrap","wrap"),U(n,"margin","0 0 6px"),U(Q,"width","100%"),U(Q,"display","block"),U(Q,"border","0"),Z(e,"class","cgm-widget"),U(e,"contain","layout")},m(vt,Ot){Bn(vt,e,Ot),A(e,n),A(n,r),t[8](r),A(n,i),A(n,s),A(s,o),A(o,a),A(o,u),A(o,l),A(o,c),A(o,d),A(o,g),A(o,m),A(s,v),A(s,x),A(x,C),A(x,E),A(x,V),A(x,B),A(x,O),A(x,G),A(x,J),A(x,wt),A(x,w),A(x,ot),A(x,ft),A(e,ht),A(e,Q),t[19](Q),st||(_t=[at(a,"click",t[9]),at(l,"click",t[10]),at(d,"click",t[11]),at(m,"click",t[12]),at(C,"click",t[13]),at(V,"click",t[14]),at(O,"click",t[15]),at(J,"click",t[16]),at(w,"click",t[17]),at(ft,"click",t[18])],st=!0)},p:Nt,i:Nt,o:Nt,d(vt){vt&&en(e),t[8](null),t[19](null),st=!1,ee(_t)}}}const pt=54;function Nu(t,e,n){let{data:r}=e,{initialRange:i=null}=e;const s=Wr();let o,a;const u={l:48,r:12,t:8,b:8},l=[1,3,7,14,30,90];let c,d,g=24*60*60*1e3;const m=()=>new Date(r.t0).getTime();let v=0,x=0,C=0,E=0;function V(_){let h=l[0],y=1/0;for(const p of l){const f=Math.abs(p-_);f<y&&(y=f,h=p)}return h}function B(){return Math.max(1,Math.floor((E-C)/g)+1)}const O=_=>{const h=new Date(_);return Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate())};let G;function J(){G=new Map;for(let _=0;_<d.length;_++){const h=d[_];if(!(Number.isFinite(h)&&h>=0))continue;const y=O(c[_]);let p=G.get(y);p||(p={valid:0,vl:0,l:0,t:0,h:0,vh:0},G.set(y,p)),p.valid++;const T=/mmol/i.test(r.units||"mmol")?{vlow:3,low:3.9,high:10,vhigh:13.9}:{vlow:54,low:70,high:180,vhigh:250};h<T.vlow?p.vl++:h<T.low?p.l++:h<=T.high?p.t++:h<=T.vhigh?p.h++:p.vh++}}function wt(){c=Float64Array.from({length:r.glucose.length},(_,h)=>m()+h*r.stepMs),d=Float64Array.from(r.glucose),v=O(c[0]),x=O(c[c.length-1]),C=(i==null?void 0:i.start)??v,E=(i==null?void 0:i.end)??x,J()}let w;function ot(){if(!o||!(G!=null&&G.size))return;const _=Math.max(1,window.devicePixelRatio||1),h=Math.max(320,o.getBoundingClientRect().width||900),y=new Date(v).getUTCFullYear(),p=new Date(x).getUTCFullYear(),f=mn(y,p+1),T=u.t+f.length*pt+u.b;n(0,o.style.width=h+"px",o),n(0,o.style.height=T+"px",o),n(0,o.width=Math.floor(h*_),o),n(0,o.height=Math.floor(T*_),o),w.setTransform(_,0,0,_,0,0),w.clearRect(0,0,h,T),w.fillStyle="#fff",w.fillRect(0,0,h,T);const $=h-u.l-u.r;w.strokeStyle="#f0f0f0",w.lineWidth=1,f.forEach((S,tt)=>{const L=u.t+tt*pt;for(let b=1;b<12;b++){const H=Date.UTC(S,b,1);if(H<v||H>x)continue;const D=(Date.UTC(S+1,0,1)-Date.UTC(S,0,1))/g,F=u.l+Math.round((H-Date.UTC(S,0,1))/g*($/D));w.beginPath(),w.moveTo(F,L+6),w.lineTo(F,L+pt-6),w.stroke()}}),f.forEach((S,tt)=>{const L=u.t+tt*pt;w.fillStyle="#444",w.font="12px system-ui, sans-serif",w.textAlign="right",w.textBaseline="middle",w.fillText(String(S),u.l-8,L+pt/2);const b=Date.UTC(S,0,1),H=Date.UTC(S+1,0,1)-g,D=Math.round((Date.UTC(S+1,0,1)-Date.UTC(S,0,1))/g),F=N=>u.l+Math.floor((N-Date.UTC(S,0,1))/g*($/D)),Y=pt-10,k=L+5;for(let N=Math.max(b,v);N<=Math.min(H,x);N+=g){const P=F(N),I=F(N+g),dt=Math.max(1,I-P),X=G.get(N);if(!X||!X.valid){w.fillStyle="#efefef",w.globalAlpha=1,w.fillRect(P,k,dt,Y);continue}const ie=Math.max(1,Math.round(g/r.stepMs)),gt={vl:X.vl/X.valid,l:X.l/X.valid,t:X.t/X.valid,h:X.h/X.valid,vh:X.vh/X.valid};let hn=k+Y;const It=(Mr,Dr,kr)=>{const He=Math.round(Dr*Y);He<=0||(hn-=He,w.fillStyle=Mr,w.globalAlpha=kr,w.fillRect(P,hn,dt,He))},oe=X.valid/ie>=.5?.8:.4,Tr=X.valid/ie>=.5?.9:.6;It("#e57373",gt.vl,oe),It("#ff9e80",gt.l,oe),It("#86c89d",gt.t,Tr),It("#ffcc80",gt.h,oe),It("#ff8a65",gt.vh,oe),w.globalAlpha=1}});const R=Math.max(v,Math.min(x,C)),W=Math.max(v,Math.min(x,E));f.forEach((S,tt)=>{const L=u.t+tt*pt,b=Date.UTC(S,0,1),H=Date.UTC(S+1,0,1)-1,D=Math.max(b,R),F=Math.min(H,W);if(D>F)return;const Y=(Date.UTC(S+1,0,1)-Date.UTC(S,0,1))/g,k=X=>u.l+Math.floor((X-Date.UTC(S,0,1))/g*($/Y)),N=k(D),P=k(F+1),I=L+5,dt=pt-10;w.save(),w.fillStyle="rgba(107,127,161,0.28)",w.fillRect(N,I,Math.max(1,P-N),dt),w.strokeStyle="#6b7fa1",w.lineWidth=1.5,w.beginPath(),w.moveTo(N+.5,I+.5),w.lineTo(N+.5,I+dt-.5),w.stroke(),w.beginPath(),w.moveTo(P-.5,I+.5),w.lineTo(P-.5,I+dt-.5),w.stroke(),w.restore()})}function ft(){const _=new Date(C),h=new Date(E),y=de("%b %e"),p=de("%b %e, %Y"),f=de("%e, %Y"),T=Date.UTC(_.getUTCFullYear(),_.getUTCMonth(),_.getUTCDate()),$=Date.UTC(h.getUTCFullYear(),h.getUTCMonth(),h.getUTCDate());return T===$?p(h):_.getFullYear()===h.getFullYear()?_.getMonth()===h.getMonth()?`${y(_)} – ${f(h)}`:`${y(_)} – ${p(h)}`:`${p(_)} – ${p(h)}`}function ht(){const _=B();s("rangechange",{start:C,end:E,days:_})}function Q(_){E=x,C=Math.max(v,E-_*g+1),ht(),ot()}function st(_){const h=C+_*g,y=E+_*g,p=Math.max(g,y-h);C=Math.max(v,Math.min(x-p,h)),E=Math.min(x,C+p),ht(),ot()}function _t(_){const h=B()*g*_;st(h/g)}function vt(){const _=o;let h=!1,y=null,p=null,f=0,T=0;const $=6,R=L=>{const b=new Date(L);return Date.UTC(b.getUTCFullYear(),b.getUTCMonth(),b.getUTCDate())};function W(){const L=Math.max(320,_.getBoundingClientRect().width||900),b=L-u.l-u.r,H=mn(new Date(v).getUTCFullYear(),new Date(x).getUTCFullYear()+1);return{cssW:L,plotW:b,years:H}}function S(L,b){const H=(Date.UTC(L+1,0,1)-Date.UTC(L,0,1))/g;return D=>u.l+Math.floor((D-Date.UTC(L,0,1))/g*(b/H))}function tt(L){const b=_.getBoundingClientRect(),H=L.clientX-b.left,D=L.clientY-b.top,{cssW:F,years:Y}=W(),k=Math.floor((D-8)/pt);if(k<0||k>=Y.length)return null;const N=Y[k],P=u.l,I=F-u.r,dt=Math.max(P,Math.min(I,H)),X=(Date.UTC(N+1,0,1)-Date.UTC(N,0,1))/g,ie=(dt-P)/(I-P);let gt=Date.UTC(N,0,1)+ie*X*g;return gt=Math.max(v,Math.min(x,gt)),{t:gt,yr:N,x:dt,rowIdx:k}}_.addEventListener("mousedown",L=>{const b=tt(L);if(!b)return;const{plotW:H}=W(),D=S(b.yr,H),F=D(Math.max(Date.UTC(b.yr,0,1),C)),Y=D(Math.min(Date.UTC(b.yr+1,0,1)-1,E))+1;y="new",b.x>=F-$&&b.x<=F+$?y="resize-l":b.x>=Y-$&&b.x<=Y+$?y="resize-r":b.x>F&&b.x<Y&&(y="move"),h=!0,p=b.t,f=C,T=E,document.body.style.userSelect="none",_.style.cursor=y==="move"?"grabbing":y==="new"?"crosshair":"col-resize"}),window.addEventListener("mousemove",L=>{const b=tt(L);if(!b){h||(_.style.cursor="crosshair");return}if(!h){const{plotW:F}=W(),Y=S(b.yr,F),k=Y(Math.max(Date.UTC(b.yr,0,1),C)),N=Y(Math.min(Date.UTC(b.yr+1,0,1)-1,E))+1;b.x>=k-$&&b.x<=k+$||b.x>=N-$&&b.x<=N+$?_.style.cursor="col-resize":b.x>k&&b.x<N?_.style.cursor="grab":_.style.cursor="crosshair";return}const H=b.t,D=g;if(y==="new"){const F=R(Math.min(p,H)),Y=R(Math.max(p,H));let k=Math.max(1,Math.floor((Y-F)/D)+1);const N=V(k);if(H>=p){let P=F,I=P+N*D-1;I>x&&(I=x,P=Math.max(v,I-N*D+1)),C=P,E=I}else{let P=Y+D-1,I=P-N*D+1;I<v&&(I=v,P=Math.min(x,I+N*D-1)),C=I,E=P}}else if(y==="resize-l"){const F=Math.max(1,Math.floor((T-R(Math.min(H,T-D+1))+1)/D)),Y=V(F);let k=T-Y*D+1;k=Math.max(v,Math.min(k,T-D+1)),C=k,E=T}else if(y==="resize-r"){const F=Math.max(1,Math.floor((R(H)+D-1-f+1)/D)),Y=V(F);let k=f+Y*D-1;k=Math.min(x,Math.max(k,f+D-1)),C=f,E=k}else if(y==="move"){const F=Math.round((R(H)-R(p))/D),Y=T-f+1;let k=f+F*D;k=Math.max(v,Math.min(x-Y+1,k)),C=k,E=k+Y-1}ht(),ot()}),window.addEventListener("mouseup",()=>{h&&(h=!1,y=null,p=null,document.body.style.userSelect="",_.style.cursor="crosshair")})}Ir(()=>{w=o.getContext("2d"),wt(),ot(),ht(),s("ready",{start:C,end:E}),vt();const _=()=>ot();return window.addEventListener("resize",_),()=>window.removeEventListener("resize",_)});function Ot(_){ge[_?"unshift":"push"](()=>{a=_,n(1,a)})}const De=()=>_t(-1),ke=()=>st(-1),Ue=()=>st(1),Se=()=>_t(1),Ae=()=>Q(1),Ne=()=>Q(3),Ee=()=>Q(7),Fe=()=>Q(14),Ye=()=>Q(30),Re=()=>Q(90);function Le(_){ge[_?"unshift":"push"](()=>{o=_,n(0,o)})}return t.$$set=_=>{"data"in _&&n(6,r=_.data),"initialRange"in _&&n(7,i=_.initialRange)},[o,a,ft,Q,st,_t,r,i,Ot,De,ke,Ue,Se,Ae,Ne,Ee,Fe,Ye,Re,Le]}class Eu extends jr{constructor(e){super(),Gr(this,e,Nu,Au,Ar,{data:6,initialRange:7},Su,[-1,-1])}get data(){return this.$$.ctx[6]}set data(e){this.$$set({data:e}),me()}get initialRange(){return this.$$.ctx[7]}set initialRange(e){this.$$set({initialRange:e}),me()}}Kr(Eu,{data:{},initialRange:{}},[],[],!0);
